%try:
%    eval(f'from {__name__} import *')
%except:
%    pass
%end

%def chok(ok):
%    if ok: #✔
    <span class='right'>&#x2714;</span>\\
%    else: #✘
    <span class='wrong'>&#x2718;</span>\\
%    end
%end

%def chanswer(
%        idx=None
%        ,htmlbr='<br>' # html delimiter if no idx =/ more idx
%        # #the following can be defined in either __init__.py or in the language html
%        # ,chames=get('chames',None)     # input names (per idx a html/tex string, e.g. r"\(\alpha\)")
%        # ,champles=get('champles',None) # input examples ( " )
%        # ,chadios=get('chadios',None)   # texts for radio buttons (a tuple per idx)
%        # ,checkos=get('checkos',None)   # texts for check boxes (a tuble per idx)
%        ):
%    if idx is None:
%        idxs = range(len(results))
%    else:
%        try:
%           idxs = [int(i) for i in idx]
%        except:
%           idxs = range(len(results))
%           htmlbr = idx
%        end
%    end
%    for idx in idxs:
         {{! htmlbr}}
%        try:
%            chame = env.get('chames')[idx]
             {{! chame}}
%        except:
%            pass
%        end
%        try:
%            example = env.get('champles')[idx]
%        except:
%            example = ''
%        end
%        try:
%            choice = env.get('chadios')[idx]
%        except:
%            choice = ''
%        end
%        try:
%            checks = env.get('checkos')[idx]
%        except:
%            checks = ''
%        end
%        if choice:
%            for i,val in enumerate(choice):
%               answ = str(i+1)
%            # mention answ in val to link to saved value of answer (1. 2. )
%            # have a <br> at the end of ``val`` for vertical alignment
             <label><input type="radio" class="chanswer"\\
%                # radio box index (starting from 1)
%                if answered and norm(i+1)==results[idx]:
                checked \\
%                end
%                if answered:
                disabled \\
%                end
                name="{{inputids[idx]}}" value="{{answ}}"/>{{! val}}</label>
%            end
%        elif checks:
%            for i,val in enumerate(checks):
%               answ = str(i+1)
             <label><input type="checkbox" class="chanswer"\\
%                # checkbox indices (starting from 1) comma separated (see norm_set)
%                if answered and norm(i+1) in set(results[idx].split(',')):
                checked \\
%                end
%                if answered:
                disabled \\
%                end
                name="{{inputids[idx]}}" value="{{answ}}"/>{{! val}}</label>
%            end
%        else:
%            if not answered:
                <input type="text" class="chanswer" name="{{inputids[idx]}}" size="8" autocomplete="off"> {{example}}
%                if points[idx] > 0:
                    [{{points[idx]}}P]\\
%                end
%            else:
%                if defined('show'):
                {{!show(results[idx])}}\\
%                else:
                {{!results[idx]}}\\
%                end
%            end
%        end
%        if answered:
%            if answers[idx].strip() != '':
                ({{answers[idx]}} \\
%                chok(bool(oks[idx]))
                )
%            end
%            if oks[idx]:
                <span class='right'>[{{points[idx]}}P]</span>
%            else:
                <span class='wrong'>[0P]</span>
%            end
%        end
%    end
%end

%def chinc(lnk, nr):
%    withnr = str(nr)
<div class="subproblem{{(nr-1)%2}}">
% include(lnk,withnr=withnr)
</div>
%end

%if defined('withnr') and withnr:
%if not __name__.endswith('chcko/chelper'):
%    nm = __name__.replace('chcko.','')
<div class="problem_id">
    <span class="problem_nr">
        {{withnr}}
    </span>
    <span class="problem_name">
        {{nm}}
    </span>
    <span class="problem_points">
%       if points:
        {{sum(points)}}P
%       end
    </span>
</div>
%end
%end
